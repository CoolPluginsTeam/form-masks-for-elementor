new class{constructor(e){this.inputs=null,this.init(),this.mappedMasks=e||null,this.tokens={"#":{validateRule:/\d/},"*":{validateRule:/[a-zA-Z]/}}}init(){"complete"===document.readyState?(this.initModalListener(),this.getInput()):window.addEventListener("load",this.init.bind(this))}initModalListener(){const e=document.body;new MutationObserver((e=>{e.forEach((e=>{"childList"===e.type&&e.addedNodes.forEach((e=>{e.classList&&e.classList.contains("elementor-popup-modal")&&this.getInput()}))}))})).observe(e,{childList:!0})}getInput(){this.inputs=document.querySelectorAll("input[data-mask]"),this.inputs.forEach((e=>{this.handleMappedMasks(e),e.addEventListener("input",this.maskInput.bind(this)),e.addEventListener("keydown",this.handleBackspace.bind(this))}))}handleMappedMasks(e){if(!this.mappedMasks)return;const t=this.mappedMasks[e.dataset.mask];t&&(e.dataset.mask=t.mask,e.dataset.maskReverse=t.reverse,e.inputmode=t.inputmode)}maskInput(e){const t=e.target,s=t.dataset.mask,a=t.value,i=this.removeMask(s,a),n="true"===t.dataset.maskReverse,r=this.applyMask(i,s,n);t.value=r}removeMask(e,t){if(!e||!t)return t;const s=Object.keys(this.tokens),a=new RegExp(`[${s.join("")}]`,"g"),i=e.replace(a,"");return t.replace(new RegExp(`[${i}]`,"g"),"")}handleBackspace(e){const t=e.target;if("Backspace"===e.key&&t.selectionStart===t.selectionEnd){const s=t.selectionStart;if(s>0){const a=t.value;/\d/.test(a[s-1])||(e.preventDefault(),t.value=a.slice(0,s-1)+a.slice(s),t.setSelectionRange(s-1,s-1))}}}applyMask(e,t,s){if(!e)return e;let a="",i=0,n=t.split("");s&&(e=e.split("").reverse().join(""),n=n.reverse());for(let t=0;t<n.length;t++)if("#"===n[t]){if(!new RegExp(this.tokens["#"].validateRule).test(e[i]))break;a+=e[i],i++}else a+=n[t];return s&&(a=a.split("").reverse().join(""),a=a.startsWith(".")?a.substring(1):a),a}}({"ev-tel":{mask:"####-####",reverse:!1,inputmode:"tel"},"ev-tel-ddd":{mask:"(##) ####-####",reverse:!1,inputmode:"tel"},"ev-tel-ddd9":{mask:"(##) #####-####",reverse:!1},"ev-tel-us":{mask:"(###) ###-####",reverse:!1,inputmode:"tel"},"ev-cpf":{mask:"###.###.###-##",reverse:!1,inputmode:"numeric"},"ev-cnpj":{mask:"##.###.###/####-##",reverse:!1,inputmode:"numeric"},"ev-money":{mask:"###.###.###.###.###,##",reverse:!0,inputmode:"numeric"},"ev-ccard":{mask:"####-####-####-####",reverse:!1,inputmode:"numeric"},"ev-ccard-valid":{mask:"##/##",reverse:!1,inputmode:"numeric"},"ev-cep":{mask:"#####-###",reverse:!1,inputmode:"numeric"},"ev-time":{mask:"##:##:##",reverse:!1,inputmode:"numeric"},"ev-date":{mask:"##/##/####",reverse:!1,inputmode:"numeric"},"ev-date_time":{mask:"##/##/#### ##:##:##",reverse:!1,inputmode:"numeric"}});