new class{constructor(e){this.inputs=null,this.init(),this.mappedMasks=e||null,this.tokens={"#":{validateRule:/\d/,inputMode:"numeric"},"*":{validateRule:/[a-zA-Z]/,inputMode:"alpha"}}}init(){"complete"===document.readyState?(this.initModalListener(),this.getInput()):window.addEventListener("load",this.init.bind(this))}initModalListener(){const e=document.body;new MutationObserver((e=>{e.forEach((e=>{"childList"===e.type&&e.addedNodes.forEach((e=>{e.classList&&e.classList.contains("elementor-popup-modal")&&this.getInput()}))}))})).observe(e,{childList:!0})}getInput(){this.inputs=document.querySelectorAll("input[data-mask]"),this.inputs.forEach((e=>{this.handleMappedMasks(e),e.addEventListener("input",this.maskInput.bind(this)),e.addEventListener("keydown",this.handleBackspace.bind(this))}))}handleMappedMasks(e){if(!this.mappedMasks)return;const s=this.mappedMasks[e.dataset.mask];s&&(e.dataset.mask=s.mask,e.dataset.maskReverse=s.reverse)}maskInput(e){const s=e.target,t=s.dataset.mask,a=s.value,i=this.removeMask(t,a),r="true"===s.dataset.maskReverse,n=this.applyMask(i,t,r);s.value=n}removeMask(e,s){if(!e||!s)return s;const t=Object.keys(this.tokens),a=new RegExp(`[${t.join("")}]`,"g"),i=e.replace(a,"");return s.replace(new RegExp(`[${i}]`,"g"),"")}handleBackspace(e){const s=e.target;if("Backspace"===e.key&&s.selectionStart===s.selectionEnd){const t=s.selectionStart;if(t>0){const a=s.value;/\d/.test(a[t-1])||(e.preventDefault(),s.value=a.slice(0,t-1)+a.slice(t),s.setSelectionRange(t-1,t-1))}}}applyMask(e,s,t){if(!e)return e;let a="",i=0,r=s.split("");t&&(e=e.split("").reverse().join(""),r=r.reverse());for(let s=0;s<r.length;s++)if("#"===r[s]){if(!new RegExp(this.tokens["#"].validateRule).test(e[i]))break;a+=e[i],i++}else a+=r[s];return t&&(a=a.split("").reverse().join(""),a=a.startsWith(".")?a.substring(1):a),a}}({"ev-tel":{mask:"####-####",reverse:!1},"ev-tel-ddd":{mask:"(##) ####-####",reverse:!1},"ev-tel-ddd9":{mask:"(##) #####-####",reverse:!1},"ev-tel-us":{mask:"(###) ###-####",reverse:!1},"ev-cpf":{mask:"###.###.###-##",reverse:!1},"ev-cnpj":{mask:"##.###.###/####-##",reverse:!1},"ev-money":{mask:"###.###.###.###.###,##",reverse:!0},"ev-ccard":{mask:"####-####-####-####",reverse:!1},"ev-ccard-valid":{mask:"##/##",reverse:!1},"ev-cep":{mask:"#####-###",reverse:!1},"ev-time":{mask:"##:##:##",reverse:!1},"ev-date":{mask:"##/##/####",reverse:!1},"ev-date_time":{mask:"##/##/#### ##:##:##",reverse:!1}});